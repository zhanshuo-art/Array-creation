# 专利技术热度矩阵分析系统

## 项目简介
这是一个专利技术趋势分析工具，通过构建二维矩阵统计不同年份、不同技术领域的高质量专利数量，帮助识别技术热点和发展趋势。

## 功能特点
- 📊 **矩阵分析**：构建年份×技术领域的二维统计矩阵
- 🔬 **质量筛选**：仅统计新颖性得分 > 0.8 的高质量专利
- 📈 **趋势分析**：计算各技术领域的增长情况
- 🏷️ **IPC分类**：基于国际专利分类（IPC）识别技术领域
- 🎯 **多年份对比**：支持自定义多个年份进行横向对比

## 核心技术

### 国际专利分类（IPC）
IPC（International Patent Classification）是世界知识产权组织（WIPO）制定的专利分类系统，用于统一标识专利的技术领域。

**IPC 代码结构**（示例：G06K 9/00）：
- **G**：部（Section）- 物理
- **06**：大类（Class）- 计算；推算；计数
- **K**：小类（Subclass）- 数据识别；数据表示
- **9/00**：大组/小组 - 特定识别方法

本项目关注的技术领域：
- **G06K**：数据识别、图像处理（如OCR、人脸识别）
- **F41G**：武器瞄准、火控系统
- **G10F**：（示例技术领域）

### 二维矩阵结构
使用嵌套 `map` 构建二维矩阵：
```cpp
map<int, map<string, int>> matrix;
// 外层 map: 年份 → 内层 map
// 内层 map: 技术领域 → 专利数量
```

访问方式：`matrix[2020]["G06K"]` 表示2020年G06K领域的专利数

### 数据处理流程
```
读取专利数据
    ↓
筛选用户指定年份
    ↓
提取 IPC 分类代码
    ↓
筛选新颖性 > 0.8
    ↓
匹配目标技术领域
    ↓
矩阵累加统计
    ↓
输出矩阵 + 增长分析
```

## 使用方法

### 1. 准备数据文件
需要 `DeepPatentAI.csv` 文件，包含以下字段：
- 第4列：IPC 分类代码
- 第7列：专利申请年份
- 第9列：新颖性得分（Novelty）

### 2. 修改文件路径
在代码第42行修改为你的文件路径：
```cpp
string filePath = "your_path/DeepPatentAI.csv";
```

### 3. 自定义技术领域（可选）
在代码第56行修改关注的 IPC 代码：
```cpp
vector<string> techFields = {"G06K", "F41G", "G10F"};
```

### 4. 编译运行
```bash
g++ experiment_2_3rd.cpp -o tech_matrix
./tech_matrix
```

### 5. 输入分析年份
```
请输入需要分析的年份（用空格分隔）
年份：2018 2019 2020 2021
```

## 输出示例
```
正在处理数据...
已处理 10000 行...
已处理 20000 行...

========== 调试信息 ==========
总行数: 25673
匹配年份的记录数: 8542
Novelty > 0.8 的记录数: 3217
最终有效记录数: 1456

找到的IPC代码（前20个）：
G06K: 672 次
H04N: 421 次
G06F: 358 次
...

========== 技术热度矩阵 ==========
年份        G06K      F41G      G10F
2018        145       23        8
2019        189       31        12
2020        221       28        15
2021        268       35        19

========== 增长分析 ==========
G06K: 145 -> 268 (+123)
F41G: 23 -> 35 (+12)
G10F: 8 -> 19 (+11)
```

## 数据解读

### 矩阵解读
- **行**：不同年份
- **列**：不同技术领域（IPC 代码）
- **值**：该年份该领域的高质量专利数量

### 增长分析
- **正增长**：技术持续发展，研发活跃
- **负增长**：技术热度下降或进入成熟期
- **增长率**：(最后年份 - 首年份) / 首年份 × 100%

### 实际应用示例
如果 G06K（图像识别）从2018年的145件增长到2021年的268件：
- 增长量：+123 件
- 增长率：84.8%
- 解读：图像识别技术在这几年快速发展，是研发热点

## 应用场景
- 技术趋势预测（识别新兴技术）
- 专利布局分析（竞争对手研发方向）
- 投资决策支持（哪些技术值得投资）
- 科研方向选择（避开红海领域）
- 产业政策研究（技术发展热度分析）

## 算法复杂度
- **时间复杂度**：O(n)，其中 n 为数据集大小
- **空间复杂度**：O(y × t)，其中 y 为年份数量，t 为技术领域数量

## 扩展功能建议
- 支持更多 IPC 分类层级（从部到小组）
- 添加可视化图表输出（柱状图、热力图）
- 计算同比增长率、环比增长率
- 导出结果为 Excel/CSV 文件
- 支持技术领域的自动发现（不需要预设）
- 添加统计显著性检验
